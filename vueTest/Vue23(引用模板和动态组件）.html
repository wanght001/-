<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>组件</title>
</head>
<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<style>

</style>
<body>
<div id="e2">
  <my-ww></my-ww>
</div>
<div id="e1">
  <button @click="flag='my-1'">显示1号组件</button>
  <button @click="flag='my-2'">显示2号组件</button>
  <div>
    <!-- 使用keep-alive组件缓存非活动组件，可以保留状态，避免重复渲染 -->
    <keep-alive>
      <component :is="flag"></component>
    </keep-alive>
  </div>
</div>
</body>

<template id="e3">
  <div>
    <p>{{msg}}</p>
    <ul>
      <li v-for="val in arr">{{val}}</li>
    </ul>
  </div>
</template>

<template id="e4">
  <div>
    <p>{{x}}</p>
  </div>
</template>


<template id="e5">
  <div>
    <p>{{y}}</p>
  </div>
</template>
<script>
window.onload = function () {
    var vm2 = new Vue({
        el: '#e2',
        components: {//局部组件
            'my-ww': {
                template: '#e3',
                data () {
                    return {
                        msg: 'wht',
                        arr: ['VAN', 'bili', 'banana']
                    }
                }
            }
        },
        data: {},
    })

    var vm1 = new Vue({
        el: '#e1',
        data: {
            flag: 'my-1'
        },
        components: {
            'my-1': {
                template: '#e4',
                data () {
                    return {
                        x: Math.random()
                    }
                }
            },
            'my-2': {
                template: '#e5',
                data () {
                    return {
                        y: Math.random()
                    }
                }
            }
        }
    })
}
</script>
</html>